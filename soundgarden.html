<html>
<head>
    <title>Welcome to Spank!</title>
    <!-- Fonts -->
    <link href="http://fonts.googleapis.com/css?family=PT+Sans+Narrow" rel="stylesheet" type="text/css">
    <link href='http://fonts.googleapis.com/css?family=Oswald:400,700' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:300' rel='stylesheet' type='text/css'>

    <link rel="stylesheet" type="text/css" href="/css/index.css" />
    <link rel="stylesheet" type="text/css" href="/css/fontawesome/css/font-awesome.css" />
    <link rel="stylesheet" type="text/css" href="/css/forms.css" />
    <link rel="stylesheet" type="text/css" href="/css/buttons.css" />
    <link rel="stylesheet" type="text/css" href="/css/scrollbars.css" />

    <script type="text/javascript">
        VK = {
            keys:[
                "b1661341bae6b03fbae6b03fd4bacddc5abbae6bae88c20ea21e811daf9e2c67fdd8f78",
                "13e47ebc10ca8da510ca8da57510e1e1c0110ca10c4b1ba407dcd8718254eba6cdd201b",
                "633b3aa76851ba026851ba0223687ad66766851685f861d38e74dc981cb38cbe200a017",
                "b63e1d33bf6561b4bf6561b4b9bf4e0dd1bbf65bf6b5dabefccf0d187e2dbaa4ac0b03e",
                "1d1aa7ae14a55a8e14a55a8e1d148e36eb114a514ab669144121a3185704c3e628ca24d"],
            pick:0,
            getToken: function() {
                return this.keys[++this.pick%this.keys.length];
            }
        };
        // The global object/ui components exported by this webapp
        Spank = {
            base:{},
            playlists:{},
            lightBox:null,
            player: null,
            playlistScroller: null,
            history: null,
            utils: {},
            genericAlbumArt: "https://lh5.googleusercontent.com/-I-hfjhp58Yg/UNiOPdDTi8I/AAAAAAAAXRY/eDxTsIxWlAs/s0/hi-512-5.png",
            tagline: "Search"
        };

        // Load a default image for cover art in case we get 404s
        function ImgError(source) {
            source.src = Spank.genericAlbumArt;
            source.onerror = "";
            return true;
        }

        // Load a default user image in case we get 404s
        function UserImgError(source) {
            source.src = "/img/user.jpg";
            source.onerror = "";
            return true;
        }

        //Parse.initialize("743mZmF65tx9xVPvWWrCeAJuEA2LLNm89VMcNzQm", "8bynNa8lvkA8k6bPdCfGAHb6A1W3oSS1ipjMBVl1");
        //UserData = Parse.Object.extend("UserData");   // constructor

    </script>

    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>

    <!-- Login to Facebook, which triggers the global 'login' event on successful login
    -->
    <script type="text/javascript" src="/js/fb.js"></script>

    <!-- Notifications with 'noty' plugin
    -->
    <script type="text/javascript" src="/js/noty/jquery.noty.js"></script>
    <script type="text/javascript" src="/js/noty/layouts/topLeft.js"></script>
    <script type="text/javascript" src="/js/noty/layouts/topRight.js"></script>
    <script type="text/javascript" src="/js/noty/themes/default.js"></script>
    <script type="text/javascript" src="/js/noty/notifications.js"></script>

    <!--<script src="http://www.parsecdn.com/js/parse-1.1.14.min.js"></script>-->

    <!-- Firebase -->
    <script type='text/javascript' src='https://static.firebase.com/v0/firebase.js'></script>

    <!-- jQuery and Knockout.JS -->
    <script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/knockout/2.1.0/knockout-min.js"></script>

    <link href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.9.2/themes/base/jquery-ui.css" rel="stylesheet" type="text/css"/>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.9.2/jquery-ui.min.js"></script>

    <!-- Enable 'live searching' in the searchbar -->
    <script type="text/javascript" src="/js/livesearch.js"></script>

     <!--bxSlider CSS file -->
    <link rel="stylesheet" type="text/css" href="/css/scroller.css" />
    <link href="/js/jquery.bxslider/jquery.bxslider.css" rel="stylesheet" />
    <script src="/js/jquery.bxslider/jquery.bxslider.js"></script>

    <!-- Make playlists, a KO observable array, sortable -->
    <script type="text/javascript" src="/js/knockout-sortable.min.js"></script>

    <!-- The scripts that drive this app
    -->
    <script type="text/javascript" src="/js/utils.js"></script>
    <script type="text/javascript" src="/js/tooltips.js"></script>
    <!--<script type="text/javascript" src="/js/playlists.js"></script>-->
    <script type="text/javascript" src="/js/playlists2.js"></script>
    <script type="text/javascript" src="/js/playlistAction.js"></script>
    <script type="text/javascript" src="/js/draggables.js"></script>
    <script type="text/javascript" src="/js/musicPlayerModel.js"></script>
    <script type="text/javascript" src="/js/historyModel.js"></script>
    <script type="text/javascript" src="/js/chartsModel.js"></script>
    <script type="text/javascript" src="/js/index.js"></script>
    <script type="text/javascript" src="/js/friends.js"></script>
    <script type="text/javascript" src="/js/keystrokes.js"></script>
    <script type="text/javascript" src="/js/snippets.js"></script>

    <!-- Edit-in-place Playlist Names -->
    <script type="text/javascript" src="/js/jquery.editable.js"></script>

    <link rel="stylesheet" type="text/css" href="/js/contextMenu/jquery.contextmenu.css" />
    <link rel="stylesheet" type="text/css" href="/js/tipped/tipped.css">
    <link rel="stylesheet" type="text/css" href="/js/tipped/custom.css">

</head>
<body>
<div id="config-panel" style="opacity: 0;">
<div id="config-ui" style="clear: both; position: relative; max-width: 1110px; margin-top: 1em; display: block; ">

<div style="position:relative">

<form action="http://www.schillmania.com/projects/soundmanager2/demo/360-player/canvas-visualization.html#"
      method="get">

<div id="controls">

<div class="checkbox">
    <div>
        <input id="use-waveform" type="checkbox" checked="checked" title="Enable waveform feature."
               onclick="controller.updateExample();controller.updateExampleCode()" value="Apply">
        Waveform
        <input id="disabled-1" type="checkbox" title="Enable EQ (spectrum) feature."
               onclick="controller.updateExample();controller.updateExampleCode()" value="Apply"
               style="margin-left:1em" checked="checked"> EQ
        <input type="checkbox" name="use-amplifier" id="use-amplifier" checked="checked"
               onclick="controller.updateExample();controller.updateExampleCode()"
               style="margin-left:1em"> Amplifier
    </div>
</div>

<div style="clear:left"></div>

<dl class="col">

    <dt>Circle Diameter</dt>
    <dd class="title">Size</dd>
    <dd>1-200</dd>
    <dd class="control">
        <div class="bar" title="Click to move here"></div>
        <div class="slider" title="Size of circle" style="margin-left: 204px; "></div>
    </dd>

    <dt>Waveform Thickness</dt>
    <dd class="title">thickness</dd>
    <dd>1-100</dd>
    <dd class="control">
        <div class="bar" title="Click to move here"></div>
        <div class="slider" title="Thickness of line" style="margin-left: 106.99999999999997px; "></div>
    </dd>

    <dt>Wave Downsample</dt>
    <dd class="title">(Scale)</dd>
    <dd>1-16</dd>
    <dd class="control">
        <div class="bar" title="Click to move here"></div>
        <div class="slider" title="Amount to downsample waveform data by"
             style="margin-left: 24.999999999999982px; "></div>
    </dd>

    <dt>EQ Thickness</dt>
    <dd class="title">thickness</dd>
    <dd>1-50</dd>
    <dd class="control">
        <div class="bar" title="Click to move here"></div>
        <div class="slider" title="Thickness of line" style="margin-left: 159px; "></div>
    </dd>

    <dt>EQ Downsample</dt>
    <dd class="title">(Scale)</dd>
    <dd>1-16</dd>
    <dd class="control">
        <div class="bar" title="Click to move here"></div>
        <div class="slider" title="Amount to downsample EQ data by" style="margin-left: 137px; "></div>
    </dd>

    <dt>Ring Thickness</dt>
    <dd class="title">(Scale)</dd>
    <dd>1-150</dd>
    <dd class="control">
        <div class="bar" title="Click to move here"></div>
        <div class="slider" title="Scale factor for the ring width"
             style="margin-left: 92.99999999999997px; "></div>
    </dd>

</dl>

<div id="options" class="col">

    <div>
        Waveform position:
        <input type="radio" name="waveform-inside" id="waveform-inside" value="true" checked="checked"
               onclick="controller.updateExample();controller.updateExampleCode()"> Inside | <input
            type="radio" name="waveform-inside" id="waveform-inside" value="false"
            onclick="controller.updateExample();controller.updateExampleCode()"> Outside
    </div>

    <div>
        EQ position:
        <input type="radio" name="eq-inside" id="eq-inside" value="true"
               onclick="controller.updateExample();controller.updateExampleCode()"> Inside | <input
            type="radio" name="eq-inside" id="eq-inside" value="false" checked="checked"
            onclick="controller.updateExample();controller.updateExampleCode()"> Outside
    </div>

    <div>
        Waveform color:
        <input type="text" name="waveform-color" id="waveform-color" value="#000000"
               onclick="createCP(this,setWaveformColor)">
    </div>

    <div>
        EQ color:
        <input type="text" name="eq-color" id="eq-color" value="#000000"
               onclick="createCP(this,setEQColor)">
    </div>

    <div>
        Loaded ring color:
        <input type="text" name="loaded-ring-color" id="loaded-ring-color" value="#000000"
               onclick="createCP(this,setLoadedRingColor)">
    </div>

    <div>
        Progress ring color:
        <input type="text" name="progress-ring-color" id="progress-ring-color" value="#000000"
               onclick="createCP(this,setProgressRingColor)">
    </div>

    <div>
        Background ring color:
        <input type="text" name="bg-ring-color" id="bg-ring-color" value="#000000"
               onclick="createCP(this,setBackgroundRingColor)">
    </div>

    <p class="compact">
        <input id="randomizeButton" type="button" onclick="controller.randomize()" value="Randomize controls"
               title="Assign random control values" style="font-size:x-small">
    </p>


</div>

<div id="cp-container">
    <!-- color picker stuff goes here -->
    <div id="yui-picker-bg" class="yui-picker-bg" tabindex="-1"
         style="background-color: rgb(255, 0, 0); ">
        <div id="yui-picker-thumb" class="yui-picker-thumb" style="left: -4px; top: -4px; "><img
                src="./360_files/picker_thumb.png"></div>
    </div>
    <div id="yui-picker-hue-bg" class="yui-picker-hue-bg" tabindex="-1">
        <div id="yui-picker-hue-thumb" class="yui-picker-hue-thumb" style="left: -2px; top: -8px; "><img
                src="./360_files/hue_thumb.png"></div>
    </div>
    <div id="yui-picker-controls" class="yui-picker-controls">
        <div class="hd"><a id="yui-picker-controls-label"
                           href="http://www.schillmania.com/projects/soundmanager2/demo/360-player/canvas-visualization.html#"></a>
        </div>
        <div class="bd">
            <ul id="yui-picker-rgb-controls" class="yui-picker-rgb-controls">
                <li>R <input autocomplete="off" size="3" id="yui-picker-r" class="yui-picker-r"
                             name="yui-picker-r"></li>
                <li>G <input autocomplete="off" size="3" id="yui-picker-g" class="yui-picker-g"
                             name="yui-picker-g"></li>
                <li>B <input autocomplete="off" size="3" id="yui-picker-b" class="yui-picker-b"
                             name="yui-picker-b"></li>
            </ul>
            <ul id="yui-picker-hsv-controls" class="yui-picker-hsv-controls" style="">
                <li>H <input autocomplete="off" size="3" id="yui-picker-h" class="yui-picker-h"
                             name="yui-picker-h"> °
                </li>
                <li>S <input autocomplete="off" size="3" id="yui-picker-s" class="yui-picker-s"
                             name="yui-picker-s"> %
                </li>
                <li>V <input autocomplete="off" size="3" id="yui-picker-v" class="yui-picker-v"
                             name="yui-picker-v"> %
                </li>
            </ul>
            <ul id="yui-picker-hex-summary" class="yui-picker-hex_summary" style="display: none; ">
                <li id="yui-picker-rhex">FF</li>
                <li id="yui-picker-ghex">FF</li>
                <li id="yui-picker-bhex">FF</li>
            </ul>
            <div id="yui-picker-hex-controls" class="yui-picker-hex-controls" style=""># <input
                    autocomplete="off" size="6" id="yui-picker-hex" class="yui-picker-hex"
                    name="yui-picker-hex"></div>
        </div>
    </div>
    <div id="yui-picker-swatch" class="yui-picker-swatch" style="background-color: rgb(255, 255, 255); "
         title="Currently selected color: #FFFFFF"></div>
    <div id="yui-picker-websafe-swatch" class="yui-picker-websafe-swatch"
         style="background-color: rgb(255, 255, 255); "
         title="Closest websafe color: #FFFFFF. Click to select."></div>
</div>

<div id="config-code-block" style="float:right;display:inline;margin-left:1em;margin-top:-0.7em">
    <!--
              <pre id="config-link" class="block"><code style="cursor:pointer" onclick="document.getElementById('config-link').style.display='none';document.getElementById('config-pre-block').style.display='block';return false"> [click to show code]                 </code></pre>
          -->
	<pre id="config-pre-block" class="block"><code id="config-code" style="display: block; ">// 360player.js, config
        section

        this.config = {

        playNext: <span>false</span>,
        autoPlay: <span>false</span>,
        allowMultiple: <span>false</span>,
        loadRingColor: <span>'#ccc'</span>,
        playRingColor: <span>'#000'</span>,
        backgroundRingColor: <span>'#eee'</span>,
        circleDiameter: <span>256</span>,
        circleRadius: <span>128</span>,
        animDuration: <span>500</span>,
        animTransition: <span>Animator.tx.bouncy</span>,
        showHMSTime: <span>true</span>,

        useWaveformData: <span>true</span>,
        waveformDataColor: <span>'#0099ff'</span>,
        waveformDataDownsample: <span>2</span>,
        waveformDataOutside: <span>false</span>,
        waveformDataConstrain: <span>false</span>,
        waveformDataLineRatio: <span>1.04</span>,

        useEQData: <span>true</span>,
        eqDataColor: <span>'#339933'</span>,
        eqDataDownsample: <span>11</span>,
        eqDataOutside: <span>true</span>,
        eqDataLineRatio: <span>1.17</span>,

        usePeakData: <span>true</span>,
        peakDataColor: <span>'#ff33ff'</span>,
        peakDataOutside: <span>true</span>,
        peakDataLineRatio: <span>0.5</span>,

        useAmplifier: <span>true</span>

        }</code></pre>
</div>

</div>
</form>

</div>


</div>

</div>

    <!-- BEGIN MY STUFF -->

    <div id="fb-root"></div>
    <div id="loginFacade">
        <div class="loginContentVerticalCenter">
            <div class="loginContent">
                <h1>Human powered music discovery</h1>
                <div id="fb-login" class="fb-login-button" data-size="large" data-show-faces="true" data-width="400" data-max-rows="1" scope="email, publish_stream"></div>
            </div>
        </div>
    </div>

    <div id="applicationBody">

        <div id="spank-player-controls">
            <img id="friends_button" class="playModeButtons" title="Friends" src="/img/chat.png" />
            <img id="random_button" title="Shuffle chart entries [ i ]" class="playModeButtons" src="/css/random_on.png" />
            <img id="loop_button" title="Loop Mode [ o ]" class="playModeButtons" src="/css/loop_on.png" />
            <img id="shuffle_button" title="Shuffle Mode [ p ]" class="playModeButtons" src="/css/shuffle_on.png" />
        </div>

        <div id="searchForm">
            <form id="searchLyrics">
                <input type="text" name="lyrics" id="searchField" size="120" value="" class="text-input" />
                <div class="onoffswitch">
                    <input type="checkbox" name="onoffswitch" class="onoffswitch-checkbox" id="myonoffswitch">
                    <label class="onoffswitch-label" for="myonoffswitch">
                        <div class="onoffswitch-inner"></div>
                        <div class="onoffswitch-switch"></div>
                    </label>
                </div>
            </form>
        </div>

        <div id="funkyPlayer">
            <div class="ui360 ui360-vis funkyPlayer-container" title="Play/Pause [ space ]">
                <a class="fatManLink" data-bind="attr: { href: current_url }"></a>
            </div>
        </div>

        <div class="giftPopup">
            <div class="giftFrom"></div>
            <div class="giftMessage"></div>
        </div>

        <div id="playHistory">
            <div id="history-filter-container">
                <div class="history-filter-container2">
                    <input type="text" id="history-filter" value="" class="text-input" />
                </div>
            </div>
            <div id="history-stream-list-container">
            <!--<ul id="history-stream-list" data-bind="sortable: {data: stream, afterMove: saveHistory }">-->
            <ul id="history-stream-list" data-bind="foreach: stream">
                <!-- ko if: typeof($data)==='object' -->
                <li class="tweetItem" data-bind="attr: { url: url }, cartDeleteIcons:$data">
                    <img class="tweetThumb" src="/img/grey.gif" onerror="ImgError(this)" data-bind="pickupStreamItems:$data, attr: { src : thumb }" />
                    <a class="tweetDownloadLink" href="#" data-bind="event: { mouseover: $root.downloadHistoryItemOnClick }">
                        <img class="tweetDownload" src="/img/cart.png" />
                    </a>
                    <img class="tweetDelete" src="/img/deleteTweet.png" data-bind="click: $root.deleteHistoryItemOnClick" />
                    <div class="tweetDetails" data-bind="click: $root.playHistoryItemOnClick">
                        <div class="tweetTrackName" data-bind="text: title"></div>
                        <div class="tweetTrackArtist" data-bind="text: artist"></div>
                    </div>
                </li>
                <!-- /ko -->
            </ul>
            </div>
        </div>

        <div id="resultsOps">
            <img src="/img/arrowright.png" class="arrowright" />
            <img src="/img/trash.png" class="trash" />
        </div>

        <div class="resultsBody">
            <img id="closeButton" src="/img/close.png" />
            <div id="lightBox">
                <!--<div id="lyricsTitle" data-bind="text : lyricsTitle"></div>-->
                <img id="lyricsThumb" data-bind="attr: { src: lyricsThumb }" />
                <div id="lyricsButtons">
                    <button class="thoughtbot">Musical</button>
                    <button class="thoughtbot">Lyrical</button>
                </div>
                <div id="lightBox-content-container">
                    <pre id="lyricsText" data-bind="text : lyricsText"></pre>
                    <div id="vk-results-container"></div>
                </div>
            </div>
            <div id="resultsSection">
                <div id="playlistSearchZone" class="playlistSearchZone searchFullWidth">
                    <span class="dropSpans">Search for similar tracks</span>
                </div>
                <div id="playlistDropZone" class="playlistDropZone"><span class="dropSpans">Add to this playlist</span></div>
                <div id="track_count_current" data-bind="text: totalChartTracks"></div>
                <ul class="results-list" data-bind="sortable: {data:chartTracks, afterMove: onResort }">
                    <li class="trackEntry unwobbled">
                        <img class="mxThumb" src="/img/grey.gif" onerror="ImgError(this)" data-bind="click: $root.addToShoppingCart, attr: { src: thumb }" />
                        <!--<div class="trackName"><a class="lyricLink" href="#" data-bind="text: title, attr: { mxid: mxid }"></a></div>-->
                        <div class="trackName"><a class="lyricLink" href="#" data-bind="text: title, attr: { mxid: mxid }"></a></div>
                        <div class="trackArtist" data-bind="text: artist"></div>
                    </li>
                </ul>
            </div>

        </div>

        <div id="friendList-container">
            <div id="sendSongForm">
                <form class="form-5 clearfix">
                    <div class="p">
                        <div class="formTitle">Send it with a message!</div>
                        <input type="text" id="sendMessage" placeholder="This is aawwwesomee">
                    </div>
                    <button id="sendMessageButton">
                        <i class="icon-arrow-right"></i>
                        <span>Send</span>
                    </button>
                </form>
            </div>
            <ul id="friendList" data-bind="foreach: friendlist">
                <li class="friendItem" data-bind="attr: { frequency: frequency }, droppableFriend:$data">
                    <div class="friendDetails">
                        <img class="friendPic" onerror="UserImgError(this)" data-bind="attr: { src: picture} " />
                        <div class="friendName" data-bind="text: name"></div>
                    </div>
                </li>
            </ul>
        </div>

        <div id="playlistScroller">
            <ul id="playlists-scroller-list" data-bind="sortable: {data: dockItemsMe, beforeMove: moveState.beforeMovePlaylistItem, afterMove: moveState.afterMovePlaylistItem }">
                <li class="playlistEntry" data-bind="click: $root.onClick">
                    <img class="playlistThumb" data-bind="attr: { src: cover, title: title, url: url }" />
                    <div class="playlistName" data-bind="text: title()"></div>
                </li>
            </ul>
            <div id="toggle-playlist-button">
                <button class="hideshow-playlist-button">Hide Playlists</button>
            </div>
        </div>

        <!--<div id="playlistScroller">-->
                <!--<ul id="playlists-scroller-list" data-bind="foreach: playlistItems">-->
                    <!--&lt;!&ndash; ko if: $data!==undefined &ndash;&gt;-->
                    <!--<li class="playlistEntry" data-bind="css: { droppablePlaylist: url==='#' }">-->
                        <!--<img class="playlistThumb" data-bind="attr: { src: cover, title: title, url: url }" />-->
                        <!--<div class="playlistName" data-bind="text: title()"></div>-->
                    <!--</li>-->
                    <!--&lt;!&ndash; /ko &ndash;&gt;-->
                <!--</ul>-->
            <!--<div id="toggle-playlist-button">-->
                <!--<button class="hideshow-playlist-button">Hide Playlists</button>-->
            <!--</div>-->
        <!--</div>-->

    </div> <!-- #applicationBody END -->

    <!-- Context menu plugin -->
    <script type="text/javascript" src="/js/contextMenu/jquery.contextmenu.js"></script>

    <!-- A library to generate md5 hashes  -->
    <script type="text/javascript" src="/js/md5-min.js"></script>

    <!-- Tooltips  -->
    <script type="text/javascript" src="/js/tipped/tipped.js"></script>

    <!-- 360 Player STUFF START-->

    <link rel="stylesheet" type="text/css" href="./360_files/flashblock.css">
    <link rel="stylesheet" type="text/css" href="./360_files/360player.css">
    <link rel="stylesheet" type="text/css" href="./360_files/360player-visualization.css">
    <link rel="stylesheet" type="text/css" href="./360_files/slider.css">
    <link rel="stylesheet" type="text/css" href="./360_files/colorpicker.css">
    <link rel="stylesheet" type="text/css" href="./360_files/demo-slider-controls.css">
    <script type="text/javascript" src="./360_files/berniecode-animator.js"></script>
    <script type="text/javascript" src="./360_files/soundmanager2-nodebug-jsmin.js"></script>
    <script type="text/javascript" src="./360_files/360player_custom.js"></script>
    <script type="text/javascript" src="./360_files/yahoo-dom-event.js"></script>
    <script type="text/javascript" src="./360_files/animation-min.js"></script>
    <script type="text/javascript" src="./360_files/dragdrop-min.js"></script>
    <script type="text/javascript" src="./360_files/slider-min.js"></script>
    <script type="text/javascript" src="./360_files/element-min.js"></script>
    <script type="text/javascript" src="./360_files/colorpicker-min.js"></script>
    <script type="text/javascript" src="./360_files/demo-slider-controls.js"></script>
    <!--<script type="text/javascript" src="./360_files/init.js"></script>-->
    <!-- Init 360 with our settings instead of the one (above) that came with the demo -->
    <script type="text/javascript" src="/js/init360.js"></script>
    <style>
        /* Hide player's running time, glitchy if done programmatically  */
        .sm2-timing.alignTweak {
            display: none;
        }
        /* Hide the customization panel of 360 player  */
        #config-panel { display:none; }
    </style>
    <!-- 360 Player STUFF END-->

    <script type="text/javascript" src="/js/history.js/scripts/bundled/html5/jquery.history.js"></script>
    <script type="text/javascript" src="/js/historyNav.js"></script>

</body>

</html>