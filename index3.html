<!DOCTYPE html>
<html lang="en" class="no-js">
    <head>
        <title>Animated Responsive Image Grid</title>
        <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
        <script type="text/javascript" src="/js/gridrotator/modernizr.custom.26633.js"></script>
        <script type="text/javascript" src="/js/gridrotator/jquery.gridrotator.js"></script>
    </head>
    <body>
    <div id="ri-grid" class="ri-grid ri-grid-size-3">
        <img class="ri-loading-image" src="/js/gridrotator/loading.gif"/>
        <ul id="bgGrid">
        </ul>
    </div>
		<script type="text/javascript">
            (function() {
                $('head').append('<link rel="stylesheet" type="text/css" href="/js/gridrotator/demo.css" />');
                $('head').append('<link rel="stylesheet" type="text/css" href="/js/gridrotator/style.css" />');
                var params = {apikey:'316bd7524d833bb192d98be44fe43017', format:'jsonp', page:1, page_size:200, country:'uk'};
                function addPhoto(track) {
                    var img = '<li><a href="#"><img src="@" /></a></li>';
                    var url = track.track.album_coverart_100x100;
                    if (url) {
                        var coverart = $(img.replace("@",url));
                        coverart.appendTo("#bgGrid");
                    }
                }
                function initGrid(){
                    $( '#ri-grid' ).gridrotator( {
                        rows : 10,
                        columns : 6,
                        maxStep : 20,
                        interval : 5000,
                        w1024 : {
                            rows : 10,
                            columns : 6
                        },
                        w768 : {
                            rows : 10,
                            columns : 6
                        },
                        w480 : {
                            rows : 6,
                            columns : 4
                        },
                        w320 : {
                            rows : 7,
                            columns : 4
                        },
                        w240 : {
                            rows : 7,
                            columns : 3
                        }
                    });
                }
                $.ajax({
                    type:'GET',
                    url: "http://api.musixmatch.com/ws/1.1/chart.tracks.get",
                    data:params,
                    dataType:'jsonp',
                    success: function(data) {
                        $.each(data.message.body.track_list, function(i,track) {
                            addPhoto(track);
                        });
                        params = {apikey:'316bd7524d833bb192d98be44fe43017', format:'jsonp', page:1, page_size:200, country:'us'};
                        $.ajax({
                            type:'GET',
                            url: "http://api.musixmatch.com/ws/1.1/chart.tracks.get",
                            data:params,
                            dataType:'jsonp',
                            success: function(data) {
                                $.each(data.message.body.track_list, function(i,track) {
                                    addPhoto(track);
                                });
                                initGrid();
                            }
                        });
                 }
                });
            })();
	</script>
    </body>
</html>